# GNSS/IMU 原始数据读写与时序同步处理平台

**本科毕业设计项目**

## 项目简介

开发一个健壮的数据预处理模块，负责读取异构的 GNSS 和 IMU 日志文件，解决传感器间时序对齐问题，并实现基础的数学插值方法来生成高频的 GNSS 观测数据，为后续的组合导航融合算法提供同步、统一的数据接口。

**核心功能：**
- GNSS/IMU 数据文件读取与解析
- 时序同步算法（时戳对齐、漂移检测）
- GNSS 数据插值（线性/样条/多项式）
- 数据可视化与验证
- Web 前端界面（数据上传、解析、图表展示）

---

## 项目结构

```
gnss-imu-sync-platform/
├── src/
│   ├── parsers/           # 数据解析器
│   │   ├── hex_parser.py          # 十六进制 GNSS 数据解析
│   │   ├── result_parser.py       # 二进制解算结果解析
│   │   └── result_text_parser.py  # 文本解算结果解析
│   ├── models/
│   │   └── data_types.py          # 数据结构定义
│   └── __init__.py
├── data/                  # 数据文件
│   ├── DATA_FORMAT.md             # 数据格式详细说明
│   ├── 3_NavigationResultGNSS.dat # GNSS 数据 (29,831 条)
│   ├── 3_NavigationResult_txt.dat # 解算结果文本 (2.8M 条)
│   └── ...
├── tests/                 # 测试脚本
├── features.json          # 需求文档
├── pyproject.toml         # 项目配置 (uv)
└── README.md
```

---

## 快速开始

### 环境要求

- Python >= 3.11
- uv (包管理器)

### 安装依赖

```bash
# 安装项目依赖
uv sync

# 安装 Web 相关依赖（可选）
uv sync --extra web

# 安装开发工具（可选）
uv sync --extra dev
```

### 运行示例

```bash
# 数据文件汇总分析
uv run data_summary.py

# 测试 GNSS 数据解析
uv run test_hex_parser.py

# 测试解算结果解析
uv run test_result_text_parser.py
```

---

## 当前进度

### ✅ 已完成

**F1 - 数据读取模块**
- [x] F1.1 十六进制 GNSS 数据解析器（附录1格式）
- [x] F1.2 解算结果解析器（附录2格式，文本/二进制）
- [x] F1.3 统一数据结构设计
- [x] 边界条件处理（校验和、时戳验证、文件尾处理）

**数据解析结果：**
- GNSS 数据：29,831 条（经纬高 + 三轴速度）
- 解算结果：2,833,904 条（组合导航 + 纯惯导）

### 🔄 进行中

**F2 - 时序同步算法**
- [ ] 时戳统一转换
- [ ] 最邻近搜索算法
- [ ] 时戳漂移检测

**F3 - GNSS 插值**
- [ ] 线性插值
- [ ] 三次样条插值
- [ ] 高频伪观测量生成

**F4 - 数据可视化**
- [ ] 时戳对比图
- [ ] IMU 数据曲线
- [ ] GNSS 轨迹可视化

**F5 - 平台整合**
- [ ] 数据处理管线
- [ ] 统一 API 接口
- [ ] 配置管理

**F6 - Web 前端**
- [ ] 后端 REST API
- [ ] 前端界面
- [ ] 图表集成

---

## 数据说明

详见 [`data/DATA_FORMAT.md`](data/DATA_FORMAT.md)

**关键发现：**
- ✅ GNSS 数据可用（29,831 条）
- ✅ 解算结果可用（2.8M 条）
- ⚠️  **IMU 原始数据缺失**（陀螺仪、加速度计原始输出未找到）

**影响：**
项目原定目标是 GNSS+IMU 数据同步，但现有数据只有 GNSS 和解算后的导航结果。需要：
1. 获取 IMU 原始数据文件，或
2. 调整项目目标为 GNSS 数据插值处理

---

## 技术栈

- **语言**: Python 3.11+
- **包管理**: uv
- **数值计算**: NumPy, SciPy
- **可视化**: Matplotlib
- **数据处理**: Pandas
- **Web 后端** (计划): FastAPI
- **Web 前端** (计划): React + ECharts

---

## 开发规范

- 使用 `uv` 管理依赖
- 代码格式化: `black`
- 代码检查: `ruff`
- 测试框架: `pytest`

---

## 论文撰写框架

### 一、背景介绍
阐述 SINS/GNSS 组合导航对高质量同步数据的依赖性。指出 IMU 和 GNSS 传感器在数据速率和时间戳格式上的异构性，强调数据同步和预处理是所有组合导航算法的前提和瓶颈。引出本研究开发统一数据处理平台的必要性。

### 二、基础知识概述
传感器数据特性： 简述 IMU（高频、瞬时量）和 GNSS（低频、绝对量）数据的差异。
时间同步概念： 阐述时间同步在组合导航中的重要性，如时间漂移、时戳对齐等。
数据插值方法： 介绍线性插值、多项式插值和样条插值等基本数学插值原理。

### 三、数据文件结构与读取实现
数据格式分析： 详细说明课题采用的 IMU 和 GNSS 原始数据文件结构和字段定义。
文件 I/O 模块设计： 给出数据高效读取和结构化存储的程序设计方案（如采用 Python 的 Pandas 库或自定义结构体）。

### 四、时序同步算法与 GNSS 插值方法
时戳对齐算法： 阐述 GNSS 和 IMU 数据的时戳对齐机制（如查找最邻近 IMU 数据的 GNSS 时戳）。
GNSS 观测数据插值： 详细推导所选插值算法（如三次样条插值）的数学模型。
高频“伪观测量”生成： 说明如何利用插值方法生成与 IMU 频率一致的 GNSS 高频“伪观测量”，并设计其数据接口。

### 五、平台功能验证与可视化
数据同步验证： 通过时戳对比图，验证 GNSS 数据插值后与 IMU 数据的同步精度。
数据可视化： 绘制原始加速度、角速度曲线和插值后的 GNSS 轨迹，验证平台的稳定性和正确性。
